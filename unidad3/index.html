<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Unidad 3 â€” TrigonometrÃ­a Â· MatemÃ¡tica a Pedal</title>

  <!-- Estilos globales -->
  <link rel="stylesheet" href="https://utec-math.github.io/matematica-a-pedal/assets/style.css?v=3">

  <!-- MathJax -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['\\(', '\\)'], ['$', '$']],
        displayMath: [['\\[','\\]'], ['$$','$$']]
      }
    };
  </script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
</head>

<body>

  <!-- Encabezado compartido -->
  <div id="header-placeholder"></div>
  <script src="/matematica-a-pedal/assets/load-header.js"></script>

  <!-- CONTENIDO DE LA UNIDAD -->
  <main id="u3-home" style="font-family:'Roboto Mono', monospace; color:#7f6000; line-height:1.55; max-width:1180px; margin:0 auto;">

    <!-- Encabezado -->
    <div style="background:linear-gradient(90deg,#FFD580,#FFA559); border:2px solid #fff; border-radius:14px; padding:18px 20px; box-shadow:0 6px 16px rgba(0,0,0,.08); margin-top:16px;">
      <h1 style="color:#783f04; margin:0; font-size:30px;">Unidad 3 â€” TrigonometrÃ­a</h1>
      <p style="margin:8px 0 0;">Conecta triÃ¡ngulos, el cÃ­rculo unitario y funciones sinusoidales para modelar desde la fÃ­sica hasta la biologÃ­a.</p>
    </div>

    <!-- Objetivos -->
    <div style="margin-top:18px; border:1px solid #FFD580; border-radius:12px; padding:14px;">
      <h2 style="color:#783f04;">ğŸ¯ Objetivos generales</h2>
      <ul style="margin:0 0 0 18px;">
        <li>Comprender la <b>medida de Ã¡ngulos</b> (grados y radianes) y sus conversiones.</li>
        <li>Definir y usar <b>razones trigonomÃ©tricas</b> en triÃ¡ngulos rectÃ¡ngulos.</li>
        <li>Relacionar el <b>cÃ­rculo unitario</b> con seno, coseno y tangente.</li>
        <li>Aplicar <b>identidades trigonomÃ©tricas</b> bÃ¡sicas para simplificar y resolver.</li>
        <li>Modelar situaciones reales con <b>funciones trigonomÃ©tricas</b> (amplitud, fase, perÃ­odo).</li>
      </ul>
    </div>

    <!-- RelaciÃ³n con otras unidades -->
    <div style="margin-top:18px; border:1px solid #FFD580; border-radius:12px; padding:14px;">
      <h2 style="color:#783f04;">ğŸ”— RelaciÃ³n con otras unidades</h2>
      <p>
        ContinÃºa conceptos de <b>GeometrÃ­a y Expresiones Algebraicas</b> (Unidad 2) y se articula con 
        <b>PotenciaciÃ³n y NotaciÃ³n CientÃ­fica</b> (Unidad 4) al trabajar escalas, precisiÃ³n y modelado.
        Prepara el terreno para <b>Funciones</b> y <b>Ecuaciones Diferenciales</b> al estudiar seÃ±ales periÃ³dicas.
      </p>
    </div>

    <!-- Progreso con bicicleta (una sola barra) -->
    <div id="unit-progress"></div>

    <!-- Ãndice de capÃ­tulos -->
    <div style="margin-top:18px; border:1px solid #FFD580; border-radius:12px; padding:16px;">
      <h2 style="color:#783f04; margin:0 0 10px; font-size:22px;">ğŸ“š Ãndice de capÃ­tulos</h2>

      <div style="display:grid; gap:12px; grid-template-columns:repeat(auto-fit,minmax(260px,1fr));">

        <!-- Bloque A -->
        <article class="u3-card" data-key="c1" style="border:1px solid #FFD580; border-radius:12px; padding:12px;">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <h3 style="color:#783f04; margin:0;">Bloque A Â· Origen y aplicaciones</h3>
            <span class="u3-pill" style="font-size:12px; padding:2px 8px; border-radius:999px; border:1px solid #FFD580;">ğŸ”„ En curso</span>
          </div>
          <p style="margin:6px 0 8px;">De las pirÃ¡mides a los satÃ©lites: panorama histÃ³rico y usos actuales.</p>
          <div style="display:flex; gap:8px; align-items:center; justify-content:space-between; flex-wrap:wrap;">
            <a href="bloque-a.html" style="text-decoration:none; color:#783f04; background:#fff; border:1px solid #FFD580; border-radius:10px; padding:8px 12px;">Abrir</a>
            <label style="display:flex; align-items:center; gap:6px; cursor:pointer;">
              <input type="checkbox" class="u3-done" data-key="c1"> <span>Marcar como completado</span>
            </label>
          </div>
        </article>

        <!-- Bloque B -->
        <article class="u3-card" data-key="c2" style="border:1px solid #FFD580; border-radius:12px; padding:12px;">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <h3 style="color:#783f04; margin:0;">Bloque B Â· Medida de Ã¡ngulos</h3>
            <span class="u3-pill" style="font-size:12px; padding:2px 8px; border-radius:999px; border:1px solid #FFD580;">ğŸ”„ En curso</span>
          </div>
          <p style="margin:6px 0 8px;">Grados â†” radianes, orientaciÃ³n, Ã¡ngulos notables y conversiÃ³n.</p>
          <div style="display:flex; gap:8px; align-items:center; justify-content:space-between; flex-wrap:wrap;">
            <a href="bloque-b.html" style="text-decoration:none; color:#783f04; background:#fff; border:1px solid #FFD580; border-radius:10px; padding:8px 12px;">Abrir</a>
            <label style="display:flex; align-items:center; gap:6px; cursor:pointer;">
              <input type="checkbox" class="u3-done" data-key="c2"> <span>Marcar como completado</span>
            </label>
          </div>
        </article>

        <!-- Bloque C -->
        <article class="u3-card" data-key="c3" style="border:1px solid #FFD580; border-radius:12px; padding:12px;">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <h3 style="color:#783f04; margin:0;">Bloque C Â· Razones en triÃ¡ngulos</h3>
            <span class="u3-pill" style="font-size:12px; padding:2px 8px; border-radius:999px; border:1px solid #FFD580;">ğŸ”„ En curso</span>
          </div>
          <p style="margin:6px 0 8px;">Seno, coseno, tangente; problemas de alturas, sombras y pendientes.</p>
          <div style="display:flex; gap:8px; align-items:center; justify-content:space-between; flex-wrap:wrap;">
            <a href="bloque-c.html" style="text-decoration:none; color:#783f04; background:#fff; border:1px solid #FFD580; border-radius:10px; padding:8px 12px;">Abrir</a>
            <label style="display:flex; align-items:center; gap:6px; cursor:pointer;">
              <input type="checkbox" class="u3-done" data-key="c3"> <span>Marcar como completado</span>
            </label>
          </div>
        </article>

        <!-- Bloque D -->
        <article class="u3-card" data-key="c4" style="border:1px solid #FFD580; border-radius:12px; padding:12px;">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <h3 style="color:#783f04; margin:0;">Bloque D Â· CÃ­rculo unitario</h3>
            <span class="u3-pill" style="font-size:12px; padding:2px 8px; border-radius:999px; border:1px solid #FFD580;">ğŸ”„ En curso</span>
          </div>
          <p style="margin:6px 0 8px;">Coordenadas, signos por cuadrantes y valores notables de (sin, cos, tan).</p>
          <div style="display:flex; gap:8px; align-items:center; justify-content:space-between; flex-wrap:wrap;">
            <a href="bloque-d.html" style="text-decoration:none; color:#783f04; background:#fff; border:1px solid #FFD580; border-radius:10px; padding:8px 12px;">Abrir</a>
            <label style="display:flex; align-items:center; gap:6px; cursor:pointer;">
              <input type="checkbox" class="u3-done" data-key="c4"> <span>Marcar como completado</span>
            </label>
          </div>
        </article>

        <!-- Bloque E -->
        <article class="u3-card" data-key="c5" style="border:1px solid #FFD580; border-radius:12px; padding:12px;">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <h3 style="color:#783f04; margin:0;">Bloque E Â· Identidades bÃ¡sicas</h3>
            <span class="u3-pill" style="font-size:12px; padding:2px 8px; border-radius:999px; border:1px solid #FFD580;">ğŸ”„ En curso</span>
          </div>
          <p style="margin:6px 0 8px;">PitagÃ³ricas, Ã¡ngulos complementarios/opuestos, suma y diferencia.</p>
          <div style="display:flex; gap:8px; align-items:center; justify-content:space-between; flex-wrap:wrap;">
            <a href="bloque-e.html" style="text-decoration:none; color:#783f04; background:#fff; border:1px solid #FFD580; border-radius:10px; padding:8px 12px;">Abrir</a>
            <label style="display:flex; align-items:center; gap:6px; cursor:pointer;">
              <input type="checkbox" class="u3-done" data-key="c5"> <span>Marcar como completado</span>
            </label>
          </div>
        </article>

        <!-- Mini-evaluaciÃ³n -->
        <article class="u3-card" data-key="c6" style="border:1px solid #FFD580; border-radius:12px; padding:12px;">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <h3 style="color:#783f04; margin:0;">Mini-evaluaciÃ³n Â· Cierre de la unidad</h3>
            <span class="u3-pill" style="font-size:12px; padding:2px 8px; border-radius:999px; border:1px solid #FFD580;">ğŸ”„ En curso</span>
          </div>
          <p style="margin:6px 0 8px;">10 Ã­tems: Ã¡ngulos, triÃ¡ngulos, cÃ­rculo unitario e identidades bÃ¡sicas.</p>
          <div style="display:flex; gap:8px; align-items:center; justify-content:space-between; flex-wrap:wrap;">
            <a href="mini-evaluacion.html"
               style="text-decoration:none; color:#783f04; background:#fff; border:1px solid #FFD580; border-radius:10px; padding:8px 12px;">Abrir</a>
            <label style="display:flex; align-items:center; gap:6px; cursor:pointer;">
              <input type="checkbox" class="u3-done" data-key="c6"> <span>Marcar como completado</span>
            </label>
          </div>
        </article>

      </div>
    </div>

    <!-- Pie -->
    <footer style="margin:18px 0; background:#FFF6E6; border:1px solid #FFD580; border-radius:14px; padding:14px;">
      <div style="display:flex; gap:12px; align-items:center; flex-wrap:wrap;">
        <div style="color:#783f04; font-weight:600;">MatemÃ¡tica a Pedal</div>
        <div>Â·</div>
        <div>Unidad 3 â€” TrigonometrÃ­a</div>
      </div>
      <small style="display:block; margin-top:8px; opacity:.9;">Material abierto para uso educativo Â· UTEC â€“ Uruguay</small>
    </footer>

    <!-- Navegador inferior Â· Unidad 3 -->
    <div style="display:flex; justify-content:space-between; align-items:center;
                background:#FFF6E6; border:1px solid #FFD580; border-radius:12px;
                padding:12px; font-family:'Roboto Mono', monospace; position:relative;">
      <span style="visibility:hidden;">â¬…ï¸</span>
      <span style="position:absolute; left:50%; transform:translateX(-50%); color:#7f6000; font-size:14px;">ContinuÃ¡ pedaleando</span>
      <a href="/matematica-a-pedal/unidad3/bloque-a.html"
         style="text-decoration:none; color:#783f04; background:#fff; border:1px solid #FFD580; border-radius:10px; padding:8px 14px;">Bloque A â¡ï¸</a>
    </div>

  </main>

  <!-- Firebase + Auth -->
  <script type="module" src="/matematica-a-pedal/assets/firebase-init.js"></script>

  <!-- SincronizaciÃ³n de progreso (asigna data-progress-id y sincroniza) -->
  <script type="module" src="/matematica-a-pedal/assets/progress-sync.js"></script>

  <!-- Barra de progreso con bicicleta -->
  <script src="/matematica-a-pedal/assets/progress-bar-bike.js"></script>

  <!-- Acciones de la U3: continuar / reset + actualizaciÃ³n de â€œpillsâ€ -->
  <script>
  (function(){
    // Tarjetas y orden
    const cards   = Array.from(document.querySelectorAll('#u3-home .u3-card'));
    const order   = cards.map(c => c.dataset.key); // c1..c6
    const toggles = Array.from(document.querySelectorAll('#u3-home .u3-done'));

    // Botones (si no existen, se insertan debajo de la barra)
    const continueA = document.getElementById('u3-continue') || (function(){
      const up = document.getElementById('unit-progress');
      const wrap = document.createElement('div');
      wrap.style.cssText = "display:flex; gap:8px; margin-top:12px;";
      wrap.innerHTML = `
        <a id="u3-continue" href="/matematica-a-pedal/unidad3/bloque-a.html"
           style="text-decoration:none; color:#783f04; background:#fff; border:1px solid #FFD580; border-radius:10px; padding:8px 12px;">â–¶ï¸ Continuar donde quedÃ©</a>
        <button id="u3-reset" type="button"
                style="cursor:pointer; color:#783f04; background:#fff; border:1px solid #FFD580; border-radius:10px; padding:8px 12px;">ğŸ”„ Reset progreso</button>
      `;
      up.insertAdjacentElement('afterend', wrap);
      return wrap.querySelector('#u3-continue');
    })();
    const resetBtn  = document.getElementById('u3-reset') || document.querySelector('#u3-continue')?.nextElementSibling;

    // Mapa key -> href (desde cada card)
    const links = Object.fromEntries(
      cards.map(card => [card.dataset.key, (card.querySelector('a[href]')||{}).getAttribute?.('href')])
    );

    function updatePills(){
      cards.forEach(card => {
        const pill = card.querySelector('.u3-pill');
        const chk  = card.querySelector('.u3-done');
        const done = !!(chk && chk.checked);
        if (pill){
          pill.textContent   = done ? 'âœ… Completado' : 'ğŸ”„ En curso';
          pill.style.background = done ? '#EFFFF2' : 'transparent';
        }
      });
    }

    function updateContinueLink(){
      const doneKeys = new Set(toggles.filter(t => t.checked).map(t => t.dataset.key));
      const nextKey  = order.find(k => !doneKeys.has(k)) || order[order.length - 1];
      const href     = links[nextKey] || links[order[0]];
      if (href) continueA.href = href;
    }

    function resetProgress(){
      if (!confirm('Â¿Reiniciar tu progreso en esta unidad?')) return;
      toggles.forEach(t => {
        if (t.checked) {
          t.checked = false;
          t.dispatchEvent(new Event('change', { bubbles:true }));
        }
      });
      window.dispatchEvent(new Event('map:progress-updated'));
      updatePills();
      updateContinueLink();
    }

    // Eventos
    toggles.forEach(t => t.addEventListener('change', () => { updatePills(); updateContinueLink(); }));
    window.addEventListener('map:progress-updated', () => { updatePills(); updateContinueLink(); });
    if (resetBtn) resetBtn.addEventListener('click', resetProgress);

    // Inicio
    updatePills();
    updateContinueLink();
  })();
  </script>

</body>
</html>
